[Back to Main](../main.md)

# 12. C-Files (Basic I/O)
### Concept) File
- Def.)
  - Logical collections of 1s and 0s.
- Basic Types)
  - ASCII(Text) Files
    - Generally human readable.
    - e.g.) .c, .java, .asm
    - How to read?)
      |In binary|In hex|In ASCII|
      |:-:|:-:|:-:|
      |<img src="../images/m12/001.png" width="300px">|<img src="../images/m12/002.png" width="200px">|<img src="../images/m12/003.png" width="150px">|
  - Binary Files
    - Generally not human readable.
    - e.g.) .o, .exe, .jpg

<br>

### E.g.) PennSim's .obj File Format
- Five Sections)
  |Section|Mapping|Format|
  |:-:|:-:|:-:|
  |`CODE`|`.CODE` in .asm|`xCADE, <address>, <num_of_words>`|
  |`DATA`|`.DATA` in .asm|`xDADA, <address>, <num_of_words>`|
  |`SYMBOL`|Labels in .asm|`xC3B7, <address>, <num_of_words>`|
  |`FILENAME`|Name of the .C file the .asm came from|`xF17E, <num_of_bytes>`|
  |`LINE NUMBER`|Which .asm line came from which .C|`x715E, <address>, <line>, <file_index>`|
  - cf.) For LC-4, the word length was 16-bits.
- e.g.)

<table border="1">
<tr>
    <th>.asm</th>
    <th>.obj</th>
    <th>Desc.</th>
</tr>

<tr>
<td>

```assembly
.CODE
.ADDR x0000

LABEL1
    CONST R0, #2
    ADD R0, R0, R0

.DATA
.ADDR x4000
    MYVAR .BLKW x1
```

</td>

<td><img src="../images/m12/004.png" width="300px"></td>
<td><img src="../images/m12/005.png" width="300px"><br><img src="../images/m12/006.png" width="300px"></td>
</tr>
</table>

<br><br>

### Concept) Endian
- Def.) Endianness
  - How the binary data in a file is ordered.
- Types)
  - Big Endian
    - Desc.)
      - Bytes are stored in file from MSB to LSB.
    - e.g.)
      - `CADE 0000 0002`
  - Little Endian
    - Desc.)
      - Bytes are stored in file from LSB to MSB.
    - e.g.)
      - `DECA 0000 0200`

<br><br>

### Concept) File Operations in C
- Open
- Close
- Read
- Write
- Rewind
- Seek



<br><br>

[Back to Main](../main.md)